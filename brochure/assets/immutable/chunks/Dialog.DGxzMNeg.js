import{d as F,c as W,e as L,a as h,t as k}from"./disclose-version.Cg2T5ksR.js";import{p as I,n as X,w as s,M,f as Y,a as T,af as S,ag as z,c as m,J as U,r as b,s as j,t as x}from"./index-client.C9EUbYRp.js";import{i as B}from"./if.DxQhv-uj.js";import{s as A}from"./index.DP1oc-0X.js";import{a as Z,s as O,t as J}from"./invertHeader.D9vqFjtm.js";import{b as $}from"./this.OZdRtXk1.js";import{p as y}from"./props.DCCwL9fw.js";function q(r){function e(n){r.contains(n.target)||r.dispatchEvent(new CustomEvent("clickoutside"))}return document.addEventListener("mouseup",e,{passive:!0}),{destroy(){document.removeEventListener("mouseup",e)}}}var ee=k('<button type="button" aria-label="Close" class="svelte-hc7iod"></button>'),te=k('<div><div class="outer svelte-hc7iod"><div class="inner svelte-hc7iod"><div aria-modal="true" class="svelte-hc7iod"><!></div></div></div> <!></div>');function ue(r,e){I(e,!0);let n=y(e,"showModal",15),u=y(e,"closeButton",3,!1),_=y(e,"className",3,""),w=y(e,"disabled",11,!1);const C=255;let o=S(void 0),i=S(!1);function E(){var a,f,g,l;if(!n())return;const t=(a=s(o))==null?void 0:a.querySelector(".ck-body-wrapper");t&&((f=document.querySelector("body"))==null||f.append(t)),(g=s(o))==null||g.remove(),n(!1),(l=e.oncloseend)==null||l.call(e)}const c=()=>new Promise(t=>{var a;w()||((a=e.onclosestart)==null||a.call(e),M(i,!1),setTimeout(()=>{E(),t()},C*2))});async function v(){const t=document.querySelectorAll(".dialog-wrap.-opened");t.length>0&&t[t.length-1]===s(o)&&await(c==null?void 0:c())}async function K(t){t.target.querySelector(".ck-focused")||await v()}async function P(t){if(!s(i))return;const a=t.target;!a.closest(".dialog-root")&&(a.tagName==="DIV"&&a.classList.contains("objet-root")||a.tagName==="UL"&&a.classList.contains("sortable-root"))&&await v()}async function V(t){s(i)&&t.key==="Escape"&&(t.preventDefault(),await v())}X(()=>{var t;s(o)&&n()&&((document.getElementById("app")??document.body).append(s(o)),setTimeout(()=>{M(i,!0)},10),(t=e.onopen)==null||t.call(e,{close:c}))});var D=W();L("keyup",z,V),L("click",z,P);var p=Y(D);{var G=t=>{var a=te(),f=m(a),g=m(f),l=m(g),H=m(l);A(H,()=>e.children??U,()=>({close:c})),b(l),Z(l,d=>q==null?void 0:q(d)),b(g),b(f);var Q=j(f,2);{var R=d=>{var N=ee();N.__click=c,h(d,N)};B(Q,d=>{u()&&d(R)})}b(a),$(a,d=>M(o,d),()=>s(o)),x(()=>{O(a,`dialog-wrap ${_()??""} svelte-hc7iod`),J(a,"-opened",s(i))}),L("clickoutside",l,K),h(t,a)};B(p,t=>{n()&&t(G)})}h(r,D),T()}F(["click"]);var ae=k('<div class="close svelte-1tryzbi"><button type="button" class="svelte-1tryzbi">Close</button></div>'),oe=k('<div class="dialog-root svelte-1tryzbi"><!> <!></div>');function ve(r,e){I(e,!0);let n=y(e,"inverted",3,!1);var u=oe(),_=m(u);{var w=o=>{var i=ae(),E=m(i);E.__click=function(...c){var v;(v=e.close)==null||v.apply(this,c)},b(i),h(o,i)};B(_,o=>{e.close&&o(w)})}var C=j(_,2);A(C,()=>e.children??U),b(u),x(()=>J(u,"-inverted",n())),h(r,u),T()}F(["click"]);export{ve as D,ue as M};
