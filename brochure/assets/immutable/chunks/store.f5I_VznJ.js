import{a2 as A,o,a7 as I,a3 as N,a8 as R,a9 as m,aa as S,ab as d,ac as v,a4 as h,ad as g,a6 as x,U as C,ae as D,a1 as F,B as p,C as L,g as U,J as k}from"./index-client.HfArHiDS.js";function w(a,s,t=!1){o&&I();var e=a,r=null,n=null,u=C,y=t?N:0,l=!1;const T=(c,i=!0)=>{l=!0,_(i,c)},_=(c,i)=>{if(u===(u=c))return;let b=!1;if(o){const E=e.data===R;!!u===E&&(e=m(),S(e),d(!1),b=!0)}u?(r?v(r):i&&(r=h(()=>i(e))),n&&g(n,()=>{n=null})):(n?v(n):i&&(n=h(()=>i(e))),r&&g(r,()=>{r=null})),b&&d(!0)};A(()=>{l=!1,s(T),l||_(null,null)},y),o&&(e=x)}let f=!1;function B(a,s,t){const e=t[s]??(t[s]={store:null,source:F(void 0),unsubscribe:p});if(e.store!==a)if(e.unsubscribe(),e.store=a??null,a==null)e.source.v=void 0,e.unsubscribe=p;else{var r=!0;e.unsubscribe=L(a,n=>{r?e.source.v=n:k(e.source,n)}),r=!1}return U(e.source)}function H(){const a={};return D(()=>{for(var s in a)a[s].unsubscribe()}),a}function J(a){var s=f;try{return f=!1,[a(),f]}finally{f=s}}export{B as a,J as c,w as i,H as s};
