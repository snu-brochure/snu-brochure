import{al as ye,a2 as ke,o as T,aa as V,a7 as pe,N as Ce,am as le,a8 as Ie,a9 as ee,ab as F,a6 as L,an as q,ac as oe,a4 as ce,ad as Ae,z as Te,w as ae,ao as X,ap as te,aq as G,ar as Ne,as as xe,at as Se,a5 as De,au as fe,av as Me,aw as Le,v as He,ax as Re,a1 as qe,H as ne,ay as Be,az as Oe,p as ue,b as ze,g as C,J as Y,aA as ie,f as Ue,a as ve,ak as re,c as S,B as de,r as D,s as _e,t as he}from"./index-client.HfArHiDS.js";import{d as me,c as Ve,e as J,a as R,t as O}from"./disclose-version.DKQO0ga0.js";import{i as P}from"./store.f5I_VznJ.js";import{s as be}from"./index.DWdx8FVO.js";import{a as Fe,s as Ye,t as ge}from"./invertHeader.D37b4sqr.js";import{b as Je}from"./this.BuH6IlmO.js";import{p as H}from"./props.C37uWb-e.js";function sa(i,e){return e}function Ke(i,e,a,c){for(var v=[],m=e.length,u=0;u<m;u++)Ne(e[u].e,v,!0);var h=m>0&&v.length===0&&a!==null;if(h){var d=a.parentNode;xe(d),d.append(a),c.clear(),A(i,e[0].prev,e[m-1].next)}Se(v,()=>{for(var w=0;w<m;w++){var f=e[w];h||(c.delete(f.k),A(i,f.prev,f.next)),De(f.e,!h)}})}function la(i,e,a,c,v,m=null){var u=i,h={flags:e,items:new Map,first:null},d=(e&fe)!==0;if(d){var w=i;u=T?V(Me(w)):w.appendChild(ye())}T&&pe();var f=null,g=!1;ke(()=>{var y=a(),s=Ce(y)?y:y==null?[]:le(y),o=s.length;if(g&&o===0)return;g=o===0;let _=!1;if(T){var I=u.data===Ie;I!==(o===0)&&(u=ee(),V(u),F(!1),_=!0)}if(T){for(var E=null,t,r=0;r<o;r++){if(L.nodeType===8&&L.data===Le){u=L,_=!0,F(!1);break}var b=s[r],n=c(b,r);t=Ee(L,h,E,null,b,n,r,v,e),h.items.set(n,t),E=t}o>0&&V(ee())}if(!T){var l=He;Pe(s,h,u,v,e,(l.f&q)!==0,c)}m!==null&&(o===0?f?oe(f):f=ce(()=>m(u)):f!==null&&Ae(f,()=>{f=null})),_&&F(!0),a()}),T&&(u=L)}function Pe(i,e,a,c,v,m,u,h){var Q,W,Z,j;var d=(v&Re)!==0,w=(v&(X|G))!==0,f=i.length,g=e.items,y=e.first,s=y,o,_=null,I,E=[],t=[],r,b,n,l;if(d)for(l=0;l<f;l+=1)r=i[l],b=u(r,l),n=g.get(b),n!==void 0&&((Q=n.a)==null||Q.measure(),(I??(I=new Set)).add(n));for(l=0;l<f;l+=1){if(r=i[l],b=u(r,l),n=g.get(b),n===void 0){var z=s?s.e.nodes_start:a;_=Ee(z,e,_,_===null?e.first:_.next,r,b,l,c,v),g.set(b,_),E=[],t=[],s=_.next;continue}if(w&&Xe(n,r,l,v),n.e.f&q&&(oe(n.e),d&&((W=n.a)==null||W.unfix(),(I??(I=new Set)).delete(n))),n!==s){if(o!==void 0&&o.has(n)){if(E.length<t.length){var N=t[0],k;_=N.prev;var p=E[0],x=E[E.length-1];for(k=0;k<E.length;k+=1)se(E[k],N,a);for(k=0;k<t.length;k+=1)o.delete(t[k]);A(e,p.prev,x.next),A(e,_,p),A(e,x,N),s=N,_=x,l-=1,E=[],t=[]}else o.delete(n),se(n,s,a),A(e,n.prev,n.next),A(e,n,_===null?e.first:_.next),A(e,_,n),_=n;continue}for(E=[],t=[];s!==null&&s.k!==b;)(m||!(s.e.f&q))&&(o??(o=new Set)).add(s),t.push(s),s=s.next;if(s===null)continue;n=s}E.push(n),_=n,s=n.next}if(s!==null||o!==void 0){for(var M=o===void 0?[]:le(o);s!==null;)(m||!(s.e.f&q))&&M.push(s),s=s.next;var U=M.length;if(U>0){var we=v&fe&&f===0?a:null;if(d){for(l=0;l<U;l+=1)(Z=M[l].a)==null||Z.measure();for(l=0;l<U;l+=1)(j=M[l].a)==null||j.fix()}Ke(e,M,we,g)}}d&&Te(()=>{var $;if(I!==void 0)for(n of I)($=n.a)==null||$.apply()}),ae.first=e.first&&e.first.e,ae.last=_&&_.e}function Xe(i,e,a,c){c&X&&te(i.v,e),c&G?te(i.i,a):i.i=a}function Ee(i,e,a,c,v,m,u,h,d,w){var f=(d&X)!==0,g=(d&Be)===0,y=f?g?qe(v):ne(v):v,s=d&G?ne(u):u,o={i:s,v:y,k:m,a:null,e:null,prev:a,next:c};try{return o.e=ce(()=>h(i,y,s),T),o.e.prev=a&&a.e,o.e.next=c&&c.e,a===null?e.first=o:(a.next=o,a.e.next=o.e),c!==null&&(c.prev=o,c.e.prev=o.e),o}finally{}}function se(i,e,a){for(var c=i.next?i.next.e.nodes_start:a,v=e?e.e.nodes_start:a,m=i.e.nodes_start;m!==c;){var u=Oe(m);v.before(m),m=u}}function A(i,e,a){e===null?i.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function K(i){function e(a){i.contains(a.target)||i.dispatchEvent(new CustomEvent("clickoutside"))}return document.addEventListener("mouseup",e,{passive:!0}),{destroy(){document.removeEventListener("mouseup",e)}}}var Ge=O('<button type="button" aria-label="Close" class="svelte-hc7iod"></button>'),Qe=O('<div><div class="outer svelte-hc7iod"><div class="inner svelte-hc7iod"><div aria-modal="true" class="svelte-hc7iod"><!></div></div></div> <!></div>');function oa(i,e){ue(e,!0);let a=H(e,"showModal",15),c=H(e,"closeButton",3,!1),v=H(e,"className",3,""),m=H(e,"disabled",11,!1);const u=255;let h=re(void 0),d=re(!1);function w(){var r,b,n,l;if(!a())return;const t=(r=C(h))==null?void 0:r.querySelector(".ck-body-wrapper");t&&((b=document.querySelector("body"))==null||b.append(t)),(n=C(h))==null||n.remove(),a(!1),(l=e.oncloseend)==null||l.call(e)}const f=()=>new Promise(t=>{var r;m()||((r=e.onclosestart)==null||r.call(e),Y(d,!1),setTimeout(()=>{w(),t()},u*2))});async function g(){const t=document.querySelectorAll(".dialog-wrap.-opened");t.length>0&&t[t.length-1]===C(h)&&await(f==null?void 0:f())}async function y(t){t.target.querySelector(".ck-focused")||await g()}async function s(t){if(!C(d))return;const r=t.target;!r.closest(".dialog-root")&&(r.tagName==="DIV"&&r.classList.contains("objet-root")||r.tagName==="UL"&&r.classList.contains("sortable-root"))&&await g()}async function o(t){C(d)&&t.key==="Escape"&&(t.preventDefault(),await g())}ze(()=>{var t;C(h)&&a()&&((document.getElementById("app")??document.body).append(C(h)),setTimeout(()=>{Y(d,!0)},10),(t=e.onopen)==null||t.call(e,{close:f}))});var _=Ve();J("keyup",ie,o),J("click",ie,s);var I=Ue(_);{var E=t=>{var r=Qe(),b=S(r),n=S(b),l=S(n),z=S(l);be(z,()=>e.children??de,()=>({close:f})),D(l),Fe(l,p=>K==null?void 0:K(p)),D(n),D(b);var N=_e(b,2);{var k=p=>{var x=Ge();x.__click=f,R(p,x)};P(N,p=>{c()&&p(k)})}D(r),Je(r,p=>Y(h,p),()=>C(h)),he(()=>{Ye(r,`dialog-wrap ${v()??""} svelte-hc7iod`),ge(r,"-opened",C(d))}),J("clickoutside",l,y),R(t,r)};P(I,t=>{a()&&t(E)})}R(i,_),ve()}me(["click"]);var We=O('<div class="close svelte-1tryzbi"><button type="button" class="svelte-1tryzbi">Close</button></div>'),Ze=O('<div class="dialog-root svelte-1tryzbi"><!> <!></div>');function ca(i,e){ue(e,!0);let a=H(e,"inverted",3,!1);var c=Ze(),v=S(c);{var m=h=>{var d=We(),w=S(d);w.__click=function(...f){var g;(g=e.close)==null||g.apply(this,f)},D(d),R(h,d)};P(v,h=>{e.close&&h(m)})}var u=_e(v,2);be(u,()=>e.children??de),D(c),he(()=>ge(c,"-inverted",a())),R(i,c),ve()}me(["click"]);let B;function je(){B||(B=new IntersectionObserver(i=>{i.forEach(e=>{const a=e.isIntersecting?"enterviewport":"exitviewport";e.target.dispatchEvent(new CustomEvent(a))})}))}function fa(i){return je(),B.observe(i),{destroy(){B.unobserve(i)}}}export{ca as D,oa as M,la as e,sa as i,fa as v};
