import{al as we,b as pe,h as T,g as P,d as ke,a0 as Ce,am as le,H as Ie,e as ee,i as U,m as L,an as R,j as oe,k as ce,l as Ae,K as Te,G as ae,ao as Q,ap as te,aq as X,ar as Ne,as as xe,at as Se,ae as De,au as fe,av as Me,aw as Le,F as He,ax as Oe,N as Re,Y as ne,ay as qe,az as Be,p as ue,n as ze,v as C,Q as V,aA as ie,f as Fe,a as ve,ak as re,c as S,O as de,r as D,s as _e,t as he}from"./index-client.DO7MDY1F.js";import{d as me,c as Pe,e as Y,a as O,t as B}from"./disclose-version.CdSQSMnj.js";import{i as G}from"./if.C--xVQf1.js";import{s as be}from"./index.CxVoZGrL.js";import{a as Ue,s as Ve,t as ge}from"./invertHeader.BxbPJlGx.js";import{b as Ye}from"./this.BeOjLFcb.js";import{p as H}from"./props.BOlMHrsY.js";function sa(t,e){return e}function Ke(t,e,a,o){for(var f=[],m=e.length,v=0;v<m;v++)Ne(e[v].e,f,!0);var h=m>0&&f.length===0&&a!==null;if(h){var d=a.parentNode;xe(d),d.append(a),o.clear(),A(t,e[0].prev,e[m-1].next)}Se(f,()=>{for(var E=0;E<m;E++){var u=e[E];h||(o.delete(u.k),A(t,u.prev,u.next)),De(u.e,!h)}})}function la(t,e,a,o,f,m=null){var v=t,h={flags:e,items:new Map,first:null},d=(e&fe)!==0;if(d){var E=t;v=T?P(Me(E)):E.appendChild(we())}T&&ke();var u=null,g=!1;pe(()=>{var w=a(),s=Ce(w)?w:w==null?[]:le(w),c=s.length;if(g&&c===0)return;g=c===0;let _=!1;if(T){var I=v.data===Ie;I!==(c===0)&&(v=ee(),P(v),U(!1),_=!0)}if(T){for(var y=null,n,r=0;r<c;r++){if(L.nodeType===8&&L.data===Le){v=L,_=!0,U(!1);break}var b=s[r],i=o(b,r);n=ye(L,h,y,null,b,i,r,f,e),h.items.set(i,n),y=n}c>0&&P(ee())}if(!T){var l=He;Ge(s,h,v,f,e,(l.f&R)!==0,o)}m!==null&&(c===0?u?oe(u):u=ce(()=>m(v)):u!==null&&Ae(u,()=>{u=null})),_&&U(!0),a()}),T&&(v=L)}function Ge(t,e,a,o,f,m,v,h){var J,W,Z,j;var d=(f&Oe)!==0,E=(f&(Q|X))!==0,u=t.length,g=e.items,w=e.first,s=w,c,_=null,I,y=[],n=[],r,b,i,l;if(d)for(l=0;l<u;l+=1)r=t[l],b=v(r,l),i=g.get(b),i!==void 0&&((J=i.a)==null||J.measure(),(I??(I=new Set)).add(i));for(l=0;l<u;l+=1){if(r=t[l],b=v(r,l),i=g.get(b),i===void 0){var z=s?s.e.nodes_start:a;_=ye(z,e,_,_===null?e.first:_.next,r,b,l,o,f),g.set(b,_),y=[],n=[],s=_.next;continue}if(E&&Qe(i,r,l,f),i.e.f&R&&(oe(i.e),d&&((W=i.a)==null||W.unfix(),(I??(I=new Set)).delete(i))),i!==s){if(c!==void 0&&c.has(i)){if(y.length<n.length){var N=n[0],p;_=N.prev;var k=y[0],x=y[y.length-1];for(p=0;p<y.length;p+=1)se(y[p],N,a);for(p=0;p<n.length;p+=1)c.delete(n[p]);A(e,k.prev,x.next),A(e,_,k),A(e,x,N),s=N,_=x,l-=1,y=[],n=[]}else c.delete(i),se(i,s,a),A(e,i.prev,i.next),A(e,i,_===null?e.first:_.next),A(e,_,i),_=i;continue}for(y=[],n=[];s!==null&&s.k!==b;)(m||!(s.e.f&R))&&(c??(c=new Set)).add(s),n.push(s),s=s.next;if(s===null)continue;i=s}y.push(i),_=i,s=i.next}if(s!==null||c!==void 0){for(var M=c===void 0?[]:le(c);s!==null;)(m||!(s.e.f&R))&&M.push(s),s=s.next;var F=M.length;if(F>0){var Ee=f&fe&&u===0?a:null;if(d){for(l=0;l<F;l+=1)(Z=M[l].a)==null||Z.measure();for(l=0;l<F;l+=1)(j=M[l].a)==null||j.fix()}Ke(e,M,Ee,g)}}d&&Te(()=>{var $;if(I!==void 0)for(i of I)($=i.a)==null||$.apply()}),ae.first=e.first&&e.first.e,ae.last=_&&_.e}function Qe(t,e,a,o){o&Q&&te(t.v,e),o&X?te(t.i,a):t.i=a}function ye(t,e,a,o,f,m,v,h,d,E){var u=(d&Q)!==0,g=(d&qe)===0,w=u?g?Re(f):ne(f):f,s=d&X?ne(v):v,c={i:s,v:w,k:m,a:null,e:null,prev:a,next:o};try{return c.e=ce(()=>h(t,w,s),T),c.e.prev=a&&a.e,c.e.next=o&&o.e,a===null?e.first=c:(a.next=c,a.e.next=c.e),o!==null&&(o.prev=c,o.e.prev=c.e),c}finally{}}function se(t,e,a){for(var o=t.next?t.next.e.nodes_start:a,f=e?e.e.nodes_start:a,m=t.e.nodes_start;m!==o;){var v=Be(m);f.before(m),m=v}}function A(t,e,a){e===null?t.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function oa(t,e,a,o){var f=t.__styles??(t.__styles={});f[e]!==a&&(f[e]=a,a==null?t.style.removeProperty(e):t.style.setProperty(e,a,""))}function K(t){function e(a){t.contains(a.target)||t.dispatchEvent(new CustomEvent("clickoutside"))}return document.addEventListener("mouseup",e,{passive:!0}),{destroy(){document.removeEventListener("mouseup",e)}}}var Xe=B('<button type="button" aria-label="Close" class="svelte-hc7iod"></button>'),Je=B('<div><div class="outer svelte-hc7iod"><div class="inner svelte-hc7iod"><div aria-modal="true" class="svelte-hc7iod"><!></div></div></div> <!></div>');function ca(t,e){ue(e,!0);let a=H(e,"showModal",15),o=H(e,"closeButton",3,!1),f=H(e,"className",3,""),m=H(e,"disabled",11,!1);const v=255;let h=re(void 0),d=re(!1);function E(){var r,b,i,l;if(!a())return;const n=(r=C(h))==null?void 0:r.querySelector(".ck-body-wrapper");n&&((b=document.querySelector("body"))==null||b.append(n)),(i=C(h))==null||i.remove(),a(!1),(l=e.oncloseend)==null||l.call(e)}const u=()=>new Promise(n=>{var r;m()||((r=e.onclosestart)==null||r.call(e),V(d,!1),setTimeout(()=>{E(),n()},v*2))});async function g(){const n=document.querySelectorAll(".dialog-wrap.-opened");n.length>0&&n[n.length-1]===C(h)&&await(u==null?void 0:u())}async function w(n){n.target.querySelector(".ck-focused")||await g()}async function s(n){if(!C(d))return;const r=n.target;!r.closest(".dialog-root")&&(r.tagName==="DIV"&&r.classList.contains("objet-root")||r.tagName==="UL"&&r.classList.contains("sortable-root"))&&await g()}async function c(n){C(d)&&n.key==="Escape"&&(n.preventDefault(),await g())}ze(()=>{var n;C(h)&&a()&&((document.getElementById("app")??document.body).append(C(h)),setTimeout(()=>{V(d,!0)},10),(n=e.onopen)==null||n.call(e,{close:u}))});var _=Pe();Y("keyup",ie,c),Y("click",ie,s);var I=Fe(_);{var y=n=>{var r=Je(),b=S(r),i=S(b),l=S(i),z=S(l);be(z,()=>e.children??de,()=>({close:u})),D(l),Ue(l,k=>K==null?void 0:K(k)),D(i),D(b);var N=_e(b,2);{var p=k=>{var x=Xe();x.__click=u,O(k,x)};G(N,k=>{o()&&k(p)})}D(r),Ye(r,k=>V(h,k),()=>C(h)),he(()=>{Ve(r,`dialog-wrap ${f()??""} svelte-hc7iod`),ge(r,"-opened",C(d))}),Y("clickoutside",l,w),O(n,r)};G(I,n=>{a()&&n(y)})}O(t,_),ve()}me(["click"]);var We=B('<div class="close svelte-1tryzbi"><button type="button" class="svelte-1tryzbi">Close</button></div>'),Ze=B('<div class="dialog-root svelte-1tryzbi"><!> <!></div>');function fa(t,e){ue(e,!0);let a=H(e,"inverted",3,!1);var o=Ze(),f=S(o);{var m=h=>{var d=We(),E=S(d);E.__click=function(...u){var g;(g=e.close)==null||g.apply(this,u)},D(d),O(h,d)};G(f,h=>{e.close&&h(m)})}var v=_e(f,2);be(v,()=>e.children??de),D(o),he(()=>ge(o,"-inverted",a())),O(t,o),ve()}me(["click"]);let q;function je(){q||(q=new IntersectionObserver(t=>{t.forEach(e=>{const a=e.isIntersecting?"enterviewport":"exitviewport";e.target.dispatchEvent(new CustomEvent(a))})}))}function ua(t){return je(),q.observe(t),{destroy(){q.unobserve(t)}}}export{fa as D,ca as M,la as e,sa as i,oa as s,ua as v};
