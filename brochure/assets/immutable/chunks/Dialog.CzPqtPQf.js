import{d as z,c as W,e as L,a as h,t as k}from"./disclose-version.DGceLBdL.js";import{p as P,n as X,w as l,M,af as S,f as Y,a as F,ag as p,c as y,J as I,r as _,s as T,t as U}from"./index-client.TdXVbbH2.js";import{i as B}from"./if.iUl18olO.js";import{s as j}from"./index.BWPQrPAV.js";import{a as Z,s as O,t as x}from"./invertHeader.Ci844fP9.js";import{b as $}from"./this.CZuve88V.js";import{p as g}from"./props.Q1grVF-k.js";function ue(i,e,s,r){var d=i.__styles??(i.__styles={});d[e]!==s&&(d[e]=s,s==null?i.style.removeProperty(e):i.style.setProperty(e,s,""))}function q(i){function e(s){i.contains(s.target)||i.dispatchEvent(new CustomEvent("clickoutside"))}return document.addEventListener("mouseup",e,{passive:!0}),{destroy(){document.removeEventListener("mouseup",e)}}}var ee=k('<button type="button" aria-label="Close" class="svelte-hc7iod"></button>'),te=k('<div><div class="outer svelte-hc7iod"><div class="inner svelte-hc7iod"><div aria-modal="true" class="svelte-hc7iod"><!></div></div></div> <!></div>');function ve(i,e){P(e,!0);let s=g(e,"showModal",15),r=g(e,"closeButton",3,!1),d=g(e,"className",3,""),w=g(e,"disabled",11,!1);const C=255;let o=p(void 0),n=p(!1);function E(){var a,m,b,u;if(!s())return;const t=(a=l(o))==null?void 0:a.querySelector(".ck-body-wrapper");t&&((m=document.querySelector("body"))==null||m.append(t)),(b=l(o))==null||b.remove(),s(!1),(u=e.oncloseend)==null||u.call(e)}const c=()=>new Promise(t=>{var a;w()||((a=e.onclosestart)==null||a.call(e),M(n,!1),setTimeout(()=>{E(),t()},C*2))});async function f(){const t=document.querySelectorAll(".dialog-wrap.-opened");t.length>0&&t[t.length-1]===l(o)&&await(c==null?void 0:c())}async function A(t){t.target.querySelector(".ck-focused")||await f()}async function J(t){if(!l(n))return;const a=t.target;!a.closest(".dialog-root")&&(a.tagName==="DIV"&&a.classList.contains("objet-root")||a.tagName==="UL"&&a.classList.contains("sortable-root"))&&await f()}async function K(t){l(n)&&t.key==="Escape"&&(t.preventDefault(),await f())}X(()=>{var t;l(o)&&s()&&((document.getElementById("app")??document.body).append(l(o)),setTimeout(()=>{M(n,!0)},10),(t=e.onopen)==null||t.call(e,{close:c}))});var D=W();L("keyup",S,K),L("click",S,J);var V=Y(D);{var G=t=>{var a=te(),m=y(a),b=y(m),u=y(b),H=y(u);j(H,()=>e.children??I,()=>({close:c})),_(u),Z(u,v=>q==null?void 0:q(v)),_(b),_(m);var Q=T(m,2);{var R=v=>{var N=ee();N.__click=c,h(v,N)};B(Q,v=>{r()&&v(R)})}_(a),$(a,v=>M(o,v),()=>l(o)),U(()=>{O(a,`dialog-wrap ${d()??""} svelte-hc7iod`),x(a,"-opened",l(n))}),L("clickoutside",u,A),h(t,a)};B(V,t=>{s()&&t(G)})}h(i,D),F()}z(["click"]);var ae=k('<div class="close svelte-1tryzbi"><button type="button" class="svelte-1tryzbi">Close</button></div>'),se=k('<div class="dialog-root svelte-1tryzbi"><!> <!></div>');function fe(i,e){P(e,!0);let s=g(e,"inverted",3,!1);var r=se(),d=y(r);{var w=o=>{var n=ae(),E=y(n);E.__click=function(...c){var f;(f=e.close)==null||f.apply(this,c)},_(n),h(o,n)};B(d,o=>{e.close&&o(w)})}var C=T(d,2);j(C,()=>e.children??I),_(r),U(()=>x(r,"-inverted",s())),h(i,r),F()}z(["click"]);export{fe as D,ve as M,ue as s};
